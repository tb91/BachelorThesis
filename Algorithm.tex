%\algrenewcommand\algorithmicprocedure{\textbf{}}
%\begin{algorithm}\small
%\caption{Modified Yao Step}\label{MYS}
%\begin{algorithmic}[0]
%\Statex \textbf{Input:} planar, t-spanner $G $; integer $k\geq 14 $
%\Statex \textbf{Output:} planar, t-spanner $G' $ with constant node degree
%
%\Statex
%
%\For{each node $p\in G $}
%	\State Define $k $ disjoint cones of size $2\pi/k $ around $p $.
%	\State Select for each non empty cone the shortest edge.
%	\For{each maximal sequence $s $ of empty cones}
%		\If{$|s|==1 $}
%			\State Let $nx $ and $ny $ be the incident edges on $p $ clockwise and \State counterclockwise, respectively, from the emtpy cone.
%			\If{either $nx $ or $ny $ has already been selected}
%				\State select the other edge
%				\Else
%				\State Select the shorter edge
%			\EndIf 
%		\Else
%			\State select the first $\lfloor \frac{|s|}{2} \rfloor $ unselected edges incident on $n $ clockwise from $s $
%			\State select the first $\lceil \frac{|s|}{2} \rceil $ unselected edges incident on $n $ counterclockwise from $s $
%		\EndIf
%	\EndFor
%\EndFor
%\State $ G' $ is the subgraph of $G $ consisting of all nodes which are in $G $ and all edges which fulfil that both endpoints of this edge have selected it. 
%\end{algorithmic}
%\end{algorithm}
\section{Algorithm}
This chapter introduces the \emph{reactive Modified Yao Step (RMYS)} and explains it's functionality.
For the sake of completeness follows a scheme of the Modified Yao Step taken from \cite{kanj}.
In addition, there is an explanation of how RMYS operates.
Then there is a proof of correctness, followed by an brief analysis of the message complexity and message size of RMYS.
At last, we see which properties the graph produced by RMYS obtains.


\algrenewcommand\algorithmicprocedure{\textbf{}}
\begin{algorithm}\small
\caption{Modified Yao Step}\label{MYS}
\begin{algorithmic}[0]
\Statex \textbf{Input:} planar, t-spanner $G $; integer $k\geq 14 $
\Statex \textbf{Output:} planar, t-spanner $G' $ with constant node degree of at most $k $

\Statex

\For{each node $p\in G $}
	\State Define $k $ disjoint cones of size $2\pi/k $ around $p $.
	\State Select for each non empty cone the shortest edge.
	\For{each maximal sequence $s $ of empty cones}
		\If{$|s|==1 $}
			\State Let $nx $ and $ny $ be the incident edges on $p $ clockwise and \State counterclockwise, respectively, from the emtpy cone.
			\If{either $nx $ or $ny $ has already been selected}
				\State select the other edge
				\Else
				\State Select the shorter edge
			\EndIf 
		\Else
			\State select the first $\lfloor \frac{|s|}{2} \rfloor $ unselected edges incident on $n $ clockwise from $s $
			\State select the first $\lceil \frac{|s|}{2} \rceil $ unselected edges incident on $n $ counterclockwise from $s $
		\EndIf
	\EndFor
\EndFor
\State $ G' $ is the subgraph of $G $ consisting of all nodes which are in $G $ and all edges which fulfil that both endpoints of this edge have selected it. 
\end{algorithmic}
\end{algorithm}

 
 
 
%\textbf{\algrenewcommand\algorithmicprocedure{\textbf{}}
\begin{algorithm}\small
\caption{Reactive Modified Yao Step}\label{RMYS}
\begin{algorithmic}[0]
\Statex \textbf{Input:} any connected graph $G $; integer $k\geq 14 $
\Statex \textbf{Output:} planar, t-spanner $G'' $ with constant node degree of at most $k $

\Statex

\For{each node $p \in G $}
	\State create the PDT-Neighborhood of $p $ using rPDT
	\State apply rMYS to $p $ using PDT-graph
\EndFor 
\end{algorithmic}
\end{algorithm}

%For clarity, notice that the algorithm RMYS consists of the two steps rPDT which is a acronym for the reactive algorithm of the Partial Delaunay Triangulation and rMYS which is, despite it has almost the same acronym, the reactive version of the Modified Yao Step described above.

For clarity, notice that both acronyms RMYS and rMYS mean \grqq reactive Modified Yao Step \grqq, but former is the algorithm which consists of rPDT, the reactive version of PDT, and rMYS, the reactive way of applying the Modified Yao Step to a planar and connected graph described above.


\subsection{Proof of correctness}
\begin{proof}
\begin{equation*}
\begin{split}
	MYS(PDT) &\leftrightarrow RMYS\\
	MYS(PDT(v)) &\stackrel{a)}{\leftrightarrow} rMYS(rPDT(v)) \\
    MYS(PDT(v)) &\stackrel{b)}{\leftrightarrow} rMYS(PDT(v))\\
    MYS(PDT(v)) &\stackrel{c)}{\leftrightarrow} MYS(PDT(v)) 
\end{split}
\end{equation*}
We need to proof that the proposed reactive version of this algorithm is equal to a simple concatenation of first, the Partial Delaunay Triangulation and secondly, the Modified Yao Step on any node $v \in G$.
a) is the fragmentation of the proposition applied to a node $v $.
It is well known that $rPDT $ produces the same graph as the simple local approach, so b) holds true.
$rMYS $ does the same calculation as MYS until the broadcast in the end.
Therefore, we need only to look at this broadcast.
The executing node $v $ sends a broadcast which must be overheard by all $PDT $ -Neighbors of $v $.
Because of the assumptions that every message arrives and arrives instantaneously, the message cannot get lost.
Every informed node sends an answer back, which must arrive.
Hence, $v $ can check whether or not each node in it's neighborhood accepts this edge.
This leads to the same behavior MYS does and therefore, c) is true completing this proof.
\end{proof}

\subsection{Message Complexity}
Let $N_{PDT}(u) $ be the message complexity of $PDT $ creating the neighborhood of Node $u \in G$.
First, $rPDT $ needs at most $n $ messages to create the $PDT $-neighborhood.
Next, the executing node sends at most $k $ messages to its neighbors to ask whether they accept their connection.
$k $ answers come back and therefore $k * 2 $.
Every one of this $k $ neighbors needs to calculate it's $PDT $-neighborhood and hence, $k*N_{PDT}(u) $.
The following equation put these reflections into one formula.
\begin{equation*}
\begin{split}
N_{RMYS}(u) &= \underbrace{N_{PDT}(u)}_{\theta (n)} +k *\underbrace{2}_{\theta (1)} + k*\underbrace{N_{PDT}(v)}_{\theta (n)} \\
\theta (N_{RMYS}(u)) &= \theta (n) 
\end{split}
\end{equation*}
Since $k $ is a constant it can be omitted in $O $-Notation.
The sum of the same complexity remains in the same complexity and hence, the message complexity of this algorithm is $\theta (n) $.

\subsection{Message Size}
If the assumption that every node has a unique position holds this position can be used to identify each node uniquely.
Hence, two floats can be used to save this position resulting in a constant number of bits.
%Other information needed to send are only these node ids or a constant amount of it

\subsection{Properties of the RMYS-graph}
This section is devoted to the graph-properties the RMYS algorithms inherits.
First, it is important to know whether RMYS produces from any connected Unit Disk Graph a connected subgraph.
The first part of RMYS, the Partial Delaunay Triangulation, creates from a connected graph a connected subgraph.

First, there is planarity.
The reactive approach of the Partial Delaunay Triangulation produces a planar Graph and since the rMYS step of the RMYS-algorithm does not add any edges, the planarity property cannot be violated.
Hence, RMYS produces a planar graph.


